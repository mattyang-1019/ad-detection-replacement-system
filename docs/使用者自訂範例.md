# 🔧 使用者自訂範例

## 📋 常見網站類型的自訂範例

### 1. 新聞網站範例

**網站特徵：**
- 文章連結包含 `/news/` 或 `/article/`
- 廣告容器使用 `.ad-banner` 類別
- 標題連結在 `<h2>` 標籤內

**修改方式：**

```javascript
// 在 website_template_complete.py 中搜尋並修改

// 1. 廣告容器選擇器 (約第 460 行)
var adsbygoogle = document.querySelectorAll('.ad-banner, ins.adsbygoogle');

// 2. 廣告關鍵字 (約第 490 行)  
var hasAdKeyword = ['ad', 'advertisement', 'banner', 'google', 'ads', 'news-ad'].some(function(keyword) {

// 3. 文章連結選擇器 (約第 590 行)
link_selectors = [
    "a[href*='/news/']",
    "a[href*='/article/']", 
    "h2 a",
    ".headline a",
    ".news-title a"
]
```

### 2. 部落格網站範例

**網站特徵：**
- 文章連結包含 `/blog/` 或 `/post/`
- 廣告使用 `#sidebar-ad` ID
- 文章標題使用 `.post-title` 類別

**修改方式：**

```javascript
// 1. 廣告容器選擇器
var adsbygoogle = document.querySelectorAll('#sidebar-ad, .blog-ad, ins.adsbygoogle');

// 2. 廣告關鍵字
var hasAdKeyword = ['ad', 'advertisement', 'banner', 'google', 'ads', 'sponsor', 'blog-ad'].some(function(keyword) {

// 3. 文章連結選擇器
link_selectors = [
    "a[href*='/blog/']",
    "a[href*='/post/']",
    ".post-title a",
    ".entry-title a",
    "article h2 a"
]
```

### 3. 電商網站範例

**網站特徵：**
- 產品連結包含 `/product/` 或 `/item/`
- 廣告使用 `.promo-banner` 類別
- 產品標題使用 `.product-name` 類別

**修改方式：**

```javascript
// 1. 廣告容器選擇器
var adsbygoogle = document.querySelectorAll('.promo-banner, .ad-space, ins.adsbygoogle');

// 2. 廣告關鍵字
var hasAdKeyword = ['ad', 'advertisement', 'banner', 'google', 'ads', 'promo', 'sponsor'].some(function(keyword) {

// 3. 文章連結選擇器
link_selectors = [
    "a[href*='/product/']",
    "a[href*='/item/']",
    ".product-name a",
    ".item-title a",
    ".product-link"
]
```

### 4. 論壇網站範例

**網站特徵：**
- 主題連結包含 `/thread/` 或 `/topic/`
- 廣告使用 `.forum-ad` 類別
- 主題標題使用 `.thread-title` 類別

**修改方式：**

```javascript
// 1. 廣告容器選擇器
var adsbygoogle = document.querySelectorAll('.forum-ad, .thread-ad, ins.adsbygoogle');

// 2. 廣告關鍵字
var hasAdKeyword = ['ad', 'advertisement', 'banner', 'google', 'ads', 'forum-ad', 'thread-ad'].some(function(keyword) {

// 3. 文章連結選擇器
link_selectors = [
    "a[href*='/thread/']",
    "a[href*='/topic/']",
    ".thread-title a",
    ".topic-link",
    ".subject a"
]
```

## 🎯 廣告尺寸自訂範例

### 常見廣告尺寸

在 `default_config.py` 中修改 `TARGET_AD_SIZES`：

```python
TARGET_AD_SIZES = [
    # 標準橫幅廣告
    {"width": 728, "height": 90},   # 橫幅廣告
    {"width": 970, "height": 90},   # 超級橫幅
    {"width": 320, "height": 50},   # 手機橫幅
    
    # 矩形廣告
    {"width": 300, "height": 250},  # 中矩形
    {"width": 336, "height": 280},  # 大矩形
    {"width": 250, "height": 250},  # 正方形
    
    # 摩天大樓廣告
    {"width": 160, "height": 600},  # 寬摩天大樓
    {"width": 120, "height": 600},  # 摩天大樓
    {"width": 300, "height": 600},  # 半頁廣告
    
    # 自訂尺寸 - 根據您的網站添加
    {"width": 468, "height": 60},   # 橫幅
    {"width": 234, "height": 60},   # 半橫幅
    {"width": 125, "height": 125},  # 小正方形
]
```

## 🔍 調試技巧

### 1. 啟用調試模式

在 `website_template_complete.py` 中找到並取消註解：

```python
# 找到這行 (約第 1250 行)
# self.debug_page_ads()

# 改為
self.debug_page_ads()
```

### 2. 使用瀏覽器開發者工具

1. 按 `F12` 開啟開發者工具
2. 點擊「Elements」標籤
3. 使用 `Ctrl+F` 搜尋廣告相關的類別或 ID
4. 右鍵點擊元素 → Copy → Copy selector

### 3. 測試選擇器

在瀏覽器控制台中測試選擇器：

```javascript
// 測試廣告選擇器
document.querySelectorAll('ins.adsbygoogle').length

// 測試文章連結選擇器  
document.querySelectorAll("a[href*='/article/']").length

// 測試廣告關鍵字
Array.from(document.querySelectorAll('div')).filter(div => 
    div.className.toLowerCase().includes('ad')
).length
```

## ⚠️ 常見問題

### 1. 找不到廣告元素

**原因：** 廣告可能是動態載入的
**解決：** 增加等待時間

```python
# 在 process_website 方法中增加等待時間
time.sleep(10)  # 從 5 秒增加到 10 秒
```

### 2. 廣告尺寸不匹配

**原因：** 實際廣告尺寸與設定不符
**解決：** 使用開發者工具測量實際尺寸

```javascript
// 在控制台中測量廣告尺寸
Array.from(document.querySelectorAll('ins.adsbygoogle')).map(ad => {
    const rect = ad.getBoundingClientRect();
    return `${Math.round(rect.width)}x${Math.round(rect.height)}`;
});
```

### 3. 選擇器太寬泛

**原因：** 選擇器匹配了非廣告元素
**解決：** 使用更具體的選擇器

```javascript
// 太寬泛
document.querySelectorAll('div')

// 更具體
document.querySelectorAll('div.ad-container[data-ad-client]')
```

## 📝 修改檢查清單

- [ ] 已修改廣告容器選擇器
- [ ] 已添加網站特有的廣告關鍵字
- [ ] 已修改文章連結選擇器
- [ ] 已添加網站的廣告尺寸
- [ ] 已測試選擇器是否正確
- [ ] 已啟用調試模式驗證
- [ ] 已備份原始檔案

---

💡 **提示：** 建議先在一個簡單的測試頁面上驗證修改，確認無誤後再應用到完整網站。